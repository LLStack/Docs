(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{228:function(s,a,p){"use strict";p.r(a);var t=p(2),e=Object(t.a)({},(function(){var s=this,a=s.$createElement,p=s._self._c||a;return p("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[p("h1",{attrs:{id:"php-管理"}},[s._v("PHP 管理")]),s._v(" "),p("h2",{attrs:{id:"php-多版本安装"}},[s._v("PHP 多版本安装")]),s._v(" "),p("p",[s._v("LLStack 的 PHP 是基于 REMI 软件源实现的，所以我们可以很方便的实现 PHP 多版本共存。")]),s._v(" "),p("h3",{attrs:{id:"安装"}},[s._v("安装")]),s._v(" "),p("p",[s._v("在 SSH 中输入：")]),s._v(" "),p("h3",{attrs:{id:"定义版本"}},[s._v("定义版本")]),s._v(" "),p("div",{staticClass:"language-bash extra-class"},[p("pre",{pre:!0,attrs:{class:"language-bash"}},[p("code",[p("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("phpversion")]),p("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("php71\n")])])]),p("p",[p("strong",[s._v("这里可以输入：")])]),s._v(" "),p("div",{staticClass:"language-bash extra-class"},[p("pre",{pre:!0,attrs:{class:"language-bash"}},[p("code",[s._v("php54,php55,php56,php70,php71,php72,php73\n")])])]),p("h3",{attrs:{id:"安装组件"}},[s._v("安装组件")]),s._v(" "),p("div",{staticClass:"language-bash extra-class"},[p("pre",{pre:!0,attrs:{class:"language-bash"}},[p("code",[s._v("yum "),p("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y "),p("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$phpversion")]),s._v("-php-litespeed "),p("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$phpversion")]),s._v("-php-cli "),p("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$phpversion")]),s._v("-php-bcmath "),p("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$phpversion")]),s._v("-php-gd "),p("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$phpversion")]),s._v("-php-json "),p("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$phpversion")]),s._v("-php-mbstring "),p("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$phpversion")]),s._v("-php-mcrypt "),p("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$phpversion")]),s._v("-php-mysqlnd "),p("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$phpversion")]),s._v("-php-opcache "),p("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$phpversion")]),s._v("-php-pdo "),p("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$phpversion")]),s._v("-php-pecl-crypto "),p("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$phpversion")]),s._v("-php-pecl-mcrypt "),p("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$phpversion")]),s._v("-php-pecl-geoip "),p("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$phpversion")]),s._v("-php-pecl-zip "),p("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$phpversion")]),s._v("-php-recode "),p("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$phpversion")]),s._v("-php-snmp "),p("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$phpversion")]),s._v("-php-soap "),p("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$phpversion")]),s._v("-php-xml\n")])])]),p("div",{staticClass:"custom-block tip"},[p("p",{staticClass:"custom-block-title"},[s._v("提示")]),s._v(" "),p("p",[s._v("PHP 每个版本的官方生命支持周期是三年，如果程序支持建议安装最新版本\n查看PHP版本支持情况：http://php.net/supported-versions.php")])]),s._v(" "),p("h3",{attrs:{id:"生效新版本"}},[s._v("生效新版本")]),s._v(" "),p("p",[s._v("新的 PHP 安装完成后，需要在虚拟主机配置中生效新版本。")]),s._v(" "),p("h4",{attrs:{id:"已有虚拟主机修改"}},[s._v("已有虚拟主机修改")]),s._v(" "),p("div",{staticClass:"language-bash extra-class"},[p("pre",{pre:!0,attrs:{class:"language-bash"}},[p("code",[p("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" -i "),p("span",{pre:!0,attrs:{class:"token string"}},[s._v('"s@lsphp'),p("span",{pre:!0,attrs:{class:"token variable"}},[p("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),s._v("新版本号"),p("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("@lsphp"),p("span",{pre:!0,attrs:{class:"token variable"}},[p("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),s._v("旧版本号"),p("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v('@g"')]),s._v(" /usr/local/lsws/conf/vhosts/"),p("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("网站域名"),p("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(".xml\n")])])]),p("p",[s._v("例如，我的网站是 www.mf8.biz，想用PHP73代替旧的PHP72。")]),s._v(" "),p("div",{staticClass:"language-bash extra-class"},[p("pre",{pre:!0,attrs:{class:"language-bash"}},[p("code",[p("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" -i "),p("span",{pre:!0,attrs:{class:"token string"}},[s._v('"s@lsphp73@lsphp72@g"')]),s._v(" /usr/local/lsws/conf/vhosts/www.mf8.biz.xml\n")])])]),p("h4",{attrs:{id:"新建虚拟主机使用"}},[s._v("新建虚拟主机使用")]),s._v(" "),p("p",[s._v("在脚本中选择新版本而非旧版本即可。")]),s._v(" "),p("p",[p("img",{attrs:{src:"https://pics.mf8.biz/xsj/2019/2/1549435917532.png",alt:"enter description here"}})]),s._v(" "),p("h2",{attrs:{id:"php-安装组件"}},[s._v("PHP 安装组件")]),s._v(" "),p("p",[s._v("REMI 有安装非常多的PECL扩展，下面列举常见扩展的安装教程。")]),s._v(" "),p("div",{staticClass:"custom-block tip"},[p("p",{staticClass:"custom-block-title"},[s._v("提示")]),s._v(" "),p("p",[s._v("记得定义版本")])]),s._v(" "),p("div",{staticClass:"language-bash extra-class"},[p("pre",{pre:!0,attrs:{class:"language-bash"}},[p("code",[p("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("phpversion")]),p("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("php"),p("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("你的PHP版本"),p("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])])]),p("h3",{attrs:{id:"opcache"}},[s._v("OpCache")]),s._v(" "),p("p",[s._v("默认已经安装")]),s._v(" "),p("h3",{attrs:{id:"swoole-扩展"}},[s._v("Swoole 扩展")]),s._v(" "),p("p",[s._v("php54 - 71 可以安装 Swoole 1：")]),s._v(" "),p("div",{staticClass:"language-bash extra-class"},[p("pre",{pre:!0,attrs:{class:"language-bash"}},[p("code",[s._v("yum "),p("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y "),p("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$phpversion")]),s._v("-php-pecl-swoole\n")])])]),p("p",[s._v("php55 - 72 可以安装 Swoole 2：")]),s._v(" "),p("div",{staticClass:"language-bash extra-class"},[p("pre",{pre:!0,attrs:{class:"language-bash"}},[p("code",[s._v("yum "),p("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y "),p("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$phpversion")]),s._v("-php-pecl-swoole2\n")])])]),p("p",[s._v("php70 - 73 可以安装 Swoole 4:")]),s._v(" "),p("div",{staticClass:"language-bash extra-class"},[p("pre",{pre:!0,attrs:{class:"language-bash"}},[p("code",[s._v("yum "),p("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y "),p("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$phpversion")]),s._v("-php-pecl-swoole4\n")])])]),p("p",[s._v("php 70 - 72 可以安装 Swoole Serialize 用于加速序列化")]),s._v(" "),p("div",{staticClass:"language-bash extra-class"},[p("pre",{pre:!0,attrs:{class:"language-bash"}},[p("code",[s._v("yum "),p("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y "),p("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$phpversion")]),s._v("-php-pecl-swoole-serialize\n")])])]),p("h3",{attrs:{id:"redis-扩展"}},[s._v("Redis 扩展")]),s._v(" "),p("p",[s._v("PECL Redis 4，如果扩展支持，推荐使用 4：")]),s._v(" "),p("div",{staticClass:"language-bash extra-class"},[p("pre",{pre:!0,attrs:{class:"language-bash"}},[p("code",[s._v("yum "),p("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y "),p("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$phpversion")]),s._v("-php-pecl-redis4\n")])])]),p("p",[s._v("PECL Redis：")]),s._v(" "),p("div",{staticClass:"language-bash extra-class"},[p("pre",{pre:!0,attrs:{class:"language-bash"}},[p("code",[s._v("yum "),p("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y "),p("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$phpversion")]),s._v("-php-pecl-redis\n")])])]),p("h3",{attrs:{id:"memcached-扩展"}},[s._v("Memcached 扩展")]),s._v(" "),p("p",[s._v("PECL Memcache:")]),s._v(" "),p("div",{staticClass:"language-bash extra-class"},[p("pre",{pre:!0,attrs:{class:"language-bash"}},[p("code",[s._v("yum "),p("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y "),p("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$phpversion")]),s._v("-php-pecl-memcache\n")])])]),p("p",[s._v("PECL Memcached:")]),s._v(" "),p("div",{staticClass:"language-bash extra-class"},[p("pre",{pre:!0,attrs:{class:"language-bash"}},[p("code",[s._v("yum "),p("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y "),p("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$phpversion")]),s._v("-php-pecl-memcached\n")])])]),p("h3",{attrs:{id:"apcu-扩展"}},[s._v("APCu 扩展")]),s._v(" "),p("div",{staticClass:"language-bash extra-class"},[p("pre",{pre:!0,attrs:{class:"language-bash"}},[p("code",[s._v("yum "),p("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y "),p("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$phpversion")]),s._v("-php-pecl-apcu "),p("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$phpversion")]),s._v("-php-pecl-apcu-bc\n")])])]),p("h3",{attrs:{id:"xcache-扩展"}},[s._v("XCache 扩展")]),s._v(" "),p("p",[s._v("仅 PHP54、55、56 可以安装")]),s._v(" "),p("div",{staticClass:"language-bash extra-class"},[p("pre",{pre:!0,attrs:{class:"language-bash"}},[p("code",[s._v("yum "),p("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y "),p("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$phpversion")]),s._v("-php-xcache\n")])])])])}),[],!1,null,null,null);a.default=e.exports}}]);