(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{356:function(a,s,e){"use strict";e.r(s);var t=e(20),p=Object(t.a)({},(function(){var a=this,s=a._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"php-管理"}},[a._v("PHP 管理")]),a._v(" "),s("h2",{attrs:{id:"php-多版本安装"}},[a._v("PHP 多版本安装")]),a._v(" "),s("p",[a._v("LLStack 的 PHP 是基于 REMI 软件源实现的，所以我们可以很方便的实现 PHP 多版本共存。")]),a._v(" "),s("h3",{attrs:{id:"安装"}},[a._v("安装")]),a._v(" "),s("p",[a._v("在 SSH 中输入：")]),a._v(" "),s("h3",{attrs:{id:"定义版本"}},[a._v("定义版本")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("phpversion")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("php71\n")])])]),s("p",[s("strong",[a._v("这里可以输入：")])]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("php54,php55,php56,php70,php71,php72,php73\n")])])]),s("h3",{attrs:{id:"安装组件"}},[a._v("安装组件")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("yum "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-y")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$phpversion")]),a._v("-php-litespeed "),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$phpversion")]),a._v("-php-cli "),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$phpversion")]),a._v("-php-bcmath "),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$phpversion")]),a._v("-php-gd "),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$phpversion")]),a._v("-php-json "),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$phpversion")]),a._v("-php-mbstring "),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$phpversion")]),a._v("-php-mcrypt "),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$phpversion")]),a._v("-php-mysqlnd "),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$phpversion")]),a._v("-php-opcache "),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$phpversion")]),a._v("-php-pdo "),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$phpversion")]),a._v("-php-pecl-crypto "),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$phpversion")]),a._v("-php-pecl-mcrypt "),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$phpversion")]),a._v("-php-pecl-geoip "),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$phpversion")]),a._v("-php-pecl-zip "),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$phpversion")]),a._v("-php-recode "),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$phpversion")]),a._v("-php-snmp "),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$phpversion")]),a._v("-php-soap "),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$phpversion")]),a._v("-php-xml\n")])])]),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[a._v("提示")]),a._v(" "),s("p",[a._v("PHP 每个版本的官方生命支持周期是三年，如果程序支持建议安装最新版本\n查看PHP版本支持情况：http://php.net/supported-versions.php")])]),a._v(" "),s("h3",{attrs:{id:"生效新版本"}},[a._v("生效新版本")]),a._v(" "),s("p",[a._v("新的 PHP 安装完成后，需要在虚拟主机配置中生效新版本。")]),a._v(" "),s("h4",{attrs:{id:"已有虚拟主机修改"}},[a._v("已有虚拟主机修改")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sed")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"s@lsphp'),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")]),a._v("新版本号"),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")])]),a._v("@lsphp"),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")]),a._v("旧版本号"),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")])]),a._v('@g"')]),a._v(" /usr/local/lsws/conf/vhosts/"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("网站域名"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(".xml\n")])])]),s("p",[a._v("例如，我的网站是 www.mf8.biz，想用PHP73代替旧的PHP72。")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sed")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"s@lsphp73@lsphp72@g"')]),a._v(" /usr/local/lsws/conf/vhosts/www.mf8.biz.xml\n")])])]),s("h4",{attrs:{id:"新建虚拟主机使用"}},[a._v("新建虚拟主机使用")]),a._v(" "),s("p",[a._v("在脚本中选择新版本而非旧版本即可。")]),a._v(" "),s("p",[s("img",{attrs:{src:"https://pics.mf8.biz/xsj/2019/2/1549435917532.png",alt:"enter description here"}})]),a._v(" "),s("h2",{attrs:{id:"php-安装组件"}},[a._v("PHP 安装组件")]),a._v(" "),s("p",[a._v("REMI 有安装非常多的PECL扩展，下面列举常见扩展的安装教程。")]),a._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[a._v("提示")]),a._v(" "),s("p",[a._v("记得定义版本")])]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("phpversion")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("php"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("你的PHP版本"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n")])])]),s("h3",{attrs:{id:"opcache"}},[a._v("OpCache")]),a._v(" "),s("p",[a._v("默认已经安装")]),a._v(" "),s("h3",{attrs:{id:"swoole-扩展"}},[a._v("Swoole 扩展")]),a._v(" "),s("p",[a._v("php54 - 71 可以安装 Swoole 1：")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("yum "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-y")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$phpversion")]),a._v("-php-pecl-swoole\n")])])]),s("p",[a._v("php55 - 72 可以安装 Swoole 2：")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("yum "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-y")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$phpversion")]),a._v("-php-pecl-swoole2\n")])])]),s("p",[a._v("php70 - 73 可以安装 Swoole 4:")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("yum "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-y")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$phpversion")]),a._v("-php-pecl-swoole4\n")])])]),s("p",[a._v("php 70 - 72 可以安装 Swoole Serialize 用于加速序列化")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("yum "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-y")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$phpversion")]),a._v("-php-pecl-swoole-serialize\n")])])]),s("h3",{attrs:{id:"redis-扩展"}},[a._v("Redis 扩展")]),a._v(" "),s("p",[a._v("PECL Redis 4，如果扩展支持，推荐使用 4：")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("yum "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-y")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$phpversion")]),a._v("-php-pecl-redis4\n")])])]),s("p",[a._v("PECL Redis：")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("yum "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-y")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$phpversion")]),a._v("-php-pecl-redis\n")])])]),s("h3",{attrs:{id:"memcached-扩展"}},[a._v("Memcached 扩展")]),a._v(" "),s("p",[a._v("PECL Memcache:")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("yum "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-y")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$phpversion")]),a._v("-php-pecl-memcache\n")])])]),s("p",[a._v("PECL Memcached:")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("yum "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-y")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$phpversion")]),a._v("-php-pecl-memcached\n")])])]),s("h3",{attrs:{id:"apcu-扩展"}},[a._v("APCu 扩展")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("yum "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-y")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$phpversion")]),a._v("-php-pecl-apcu "),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$phpversion")]),a._v("-php-pecl-apcu-bc\n")])])]),s("h3",{attrs:{id:"xcache-扩展"}},[a._v("XCache 扩展")]),a._v(" "),s("p",[a._v("仅 PHP54、55、56 可以安装")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("yum "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-y")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$phpversion")]),a._v("-php-xcache\n")])])])])}),[],!1,null,null,null);s.default=p.exports}}]);