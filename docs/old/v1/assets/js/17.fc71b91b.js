(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{183:function(a,s,e){"use strict";e.r(s);var t=e(0),r=Object(t.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var a=this,s=a.$createElement,e=a._self._c||s;return e("div",{staticClass:"content"},[e("h1",{attrs:{id:"php-管理"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#php-管理","aria-hidden":"true"}},[a._v("#")]),a._v(" PHP 管理")]),a._v(" "),e("h2",{attrs:{id:"php-多版本安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#php-多版本安装","aria-hidden":"true"}},[a._v("#")]),a._v(" PHP 多版本安装")]),a._v(" "),e("p",[a._v("LLStack 的 PHP 是基于 REMI 软件源实现的，所以我们可以很方便的实现 PHP 多版本共存。")]),a._v(" "),e("h3",{attrs:{id:"安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装","aria-hidden":"true"}},[a._v("#")]),a._v(" 安装")]),a._v(" "),e("p",[a._v("在 SSH 中输入：")]),a._v(" "),e("h3",{attrs:{id:"定义版本"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#定义版本","aria-hidden":"true"}},[a._v("#")]),a._v(" 定义版本")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("phpversion"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("php71\n")])])]),e("p",[e("strong",[a._v("这里可以输入：")])]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("php54,php55,php56,php70,php71,php72,php73\n")])])]),e("h3",{attrs:{id:"安装组件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装组件","aria-hidden":"true"}},[a._v("#")]),a._v(" 安装组件")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("yum "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" -y "),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$phpversion")]),a._v("-php-litespeed "),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$phpversion")]),a._v("-php-cli "),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$phpversion")]),a._v("-php-bcmath "),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$phpversion")]),a._v("-php-gd "),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$phpversion")]),a._v("-php-json "),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$phpversion")]),a._v("-php-mbstring "),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$phpversion")]),a._v("-php-mcrypt "),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$phpversion")]),a._v("-php-mysqlnd "),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$phpversion")]),a._v("-php-opcache "),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$phpversion")]),a._v("-php-pdo "),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$phpversion")]),a._v("-php-pecl-crypto "),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$phpversion")]),a._v("-php-pecl-mcrypt "),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$phpversion")]),a._v("-php-pecl-geoip "),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$phpversion")]),a._v("-php-pecl-zip "),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$phpversion")]),a._v("-php-recode "),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$phpversion")]),a._v("-php-snmp "),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$phpversion")]),a._v("-php-soap "),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$phpversion")]),a._v("-php-xml\n")])])]),e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[a._v("提示")]),a._v(" "),e("p",[a._v("PHP 每个版本的官方生命支持周期是三年，如果程序支持建议安装最新版本\n查看PHP版本支持情况：http://php.net/supported-versions.php")])]),a._v(" "),e("h3",{attrs:{id:"生效新版本"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#生效新版本","aria-hidden":"true"}},[a._v("#")]),a._v(" 生效新版本")]),a._v(" "),e("p",[a._v("新的 PHP 安装完成后，需要在虚拟主机配置中生效新版本。")]),a._v(" "),e("h4",{attrs:{id:"已有虚拟主机修改"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#已有虚拟主机修改","aria-hidden":"true"}},[a._v("#")]),a._v(" 已有虚拟主机修改")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[a._v("sed")]),a._v(" -i "),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"s@lsphp'),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")]),a._v("新版本号"),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")])]),a._v("@lsphp"),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")]),a._v("旧版本号"),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")])]),a._v('@g"')]),a._v(" /usr/local/lsws/conf/vhosts/"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("网站域名"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(".xml\n")])])]),e("p",[a._v("例如，我的网站是 www.mf8.biz，想用PHP73代替旧的PHP72。")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[a._v("sed")]),a._v(" -i "),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"s@lsphp73@lsphp72@g"')]),a._v(" /usr/local/lsws/conf/vhosts/www.mf8.biz.xml\n")])])]),e("h4",{attrs:{id:"新建虚拟主机使用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#新建虚拟主机使用","aria-hidden":"true"}},[a._v("#")]),a._v(" 新建虚拟主机使用")]),a._v(" "),e("p",[a._v("在脚本中选择新版本而非旧版本即可。")]),a._v(" "),e("p",[e("img",{attrs:{src:"https://pics.mf8.biz/xsj/2019/2/1549435917532.png",alt:"enter description here"}})]),a._v(" "),e("h2",{attrs:{id:"php-安装组件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#php-安装组件","aria-hidden":"true"}},[a._v("#")]),a._v(" PHP 安装组件")]),a._v(" "),e("p",[a._v("REMI 有安装非常多的PECL扩展，下面列举常见扩展的安装教程。")]),a._v(" "),e("div",{staticClass:"tip custom-block"},[e("p",{staticClass:"custom-block-title"},[a._v("提示")]),a._v(" "),e("p",[a._v("记得定义版本")])]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("phpversion"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("php"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("你的PHP版本"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n")])])]),e("h3",{attrs:{id:"opcache"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#opcache","aria-hidden":"true"}},[a._v("#")]),a._v(" OpCache")]),a._v(" "),e("p",[a._v("默认已经安装")]),a._v(" "),e("h3",{attrs:{id:"swoole-扩展"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#swoole-扩展","aria-hidden":"true"}},[a._v("#")]),a._v(" Swoole 扩展")]),a._v(" "),e("p",[a._v("php54 - 71 可以安装 Swoole 1：")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("yum "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" -y "),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$phpversion")]),a._v("-php-pecl-swoole\n")])])]),e("p",[a._v("php55 - 72 可以安装 Swoole 2：")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("yum "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" -y "),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$phpversion")]),a._v("-php-pecl-swoole2\n")])])]),e("p",[a._v("php70 - 73 可以安装 Swoole 4:")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("yum "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" -y "),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$phpversion")]),a._v("-php-pecl-swoole4\n")])])]),e("p",[a._v("php 70 - 72 可以安装 Swoole Serialize 用于加速序列化")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("yum "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" -y "),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$phpversion")]),a._v("-php-pecl-swoole-serialize\n")])])]),e("h3",{attrs:{id:"redis-扩展"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#redis-扩展","aria-hidden":"true"}},[a._v("#")]),a._v(" Redis 扩展")]),a._v(" "),e("p",[a._v("PECL Redis 4，如果扩展支持，推荐使用 4：")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("yum "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" -y "),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$phpversion")]),a._v("-php-pecl-redis4\n")])])]),e("p",[a._v("PECL Redis：")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("yum "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" -y "),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$phpversion")]),a._v("-php-pecl-redis\n")])])]),e("h3",{attrs:{id:"memcached-扩展"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#memcached-扩展","aria-hidden":"true"}},[a._v("#")]),a._v(" Memcached 扩展")]),a._v(" "),e("p",[a._v("PECL Memcache:")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("yum "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" -y "),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$phpversion")]),a._v("-php-pecl-memcache\n")])])]),e("p",[a._v("PECL Memcached:")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("yum "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" -y "),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$phpversion")]),a._v("-php-pecl-memcached\n")])])]),e("h3",{attrs:{id:"apcu-扩展"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#apcu-扩展","aria-hidden":"true"}},[a._v("#")]),a._v(" APCu 扩展")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("yum "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" -y "),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$phpversion")]),a._v("-php-pecl-apcu "),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$phpversion")]),a._v("-php-pecl-apcu-bc\n")])])]),e("h3",{attrs:{id:"xcache-扩展"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#xcache-扩展","aria-hidden":"true"}},[a._v("#")]),a._v(" XCache 扩展")]),a._v(" "),e("p",[a._v("仅 PHP54、55、56 可以安装")]),a._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("yum "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" -y "),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$phpversion")]),a._v("-php-xcache\n")])])])])}],!1,null,null,null);s.default=r.exports}}]);